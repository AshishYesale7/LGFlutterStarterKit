# Task 2 Demo — Recommended Dependencies & Plugins

> **For Antigravity Agent**: This file is the authoritative reference for the plugin stack
> that works with a real Liquid Galaxy rig. When scaffolding a new Task 2 app, use these
> exact packages and versions as the baseline `pubspec.yaml` dependencies.

---

## Core Flutter Plugins (Verified Working)

These plugins were extracted from a working LG Task 2 demo app built with Flutter 3.24.5.

| Package | Version | Purpose | Required? |
|---------|---------|---------|-----------|
| `google_maps_flutter` | `^2.10.1` | Google Maps widget for in-app map view & location picking | **Yes** — every LG app needs a map UI for selecting locations |
| `ssh2` | `^2.2.3` | SSH client for communicating with the LG rig master | **Yes** — alternative to `dartssh2`, lighter footprint |
| `shared_preferences` | `^2.5.3` | Persistent key-value storage for connection settings | **Yes** — saves rig IP, port, user between sessions |
| `path_provider` | `^2.1.5` | File system paths for KML temp files & local caching | **Yes** — needed for writing KML files before SFTP upload |

### Additional Starter Kit Dependencies

These are already in the starter kit's `pubspec.yaml` and should be carried forward:

| Package | Version | Purpose |
|---------|---------|---------|
| `dartssh2` | `^2.9.0+2` | SSH client (alternative to `ssh2` — pick one) |
| `provider` | `^6.1.1` | State management |
| `http` | `^1.2.0` | REST API calls |
| `xml` | `^6.3.0` | KML XML generation & parsing |
| `web_socket_channel` | `^3.0.1` | WebSocket for Node.js server |
| `flutter_secure_storage` | `^9.0.0` | Encrypted password storage |
| `cupertino_icons` | `^1.0.6` | iOS-style icons |

---

## SSH Client: `ssh2` vs `dartssh2`

Both work for LG rig communication. Choose one:

| Feature | `ssh2` (^2.2.3) | `dartssh2` (^2.9.0+2) |
|---------|-----------------|----------------------|
| Maturity | Established, stable | Newer, actively maintained |
| API style | Callback-based | Stream-based (modern Dart) |
| SFTP | ✅ Built-in | ✅ Built-in |
| Native build | Yes (iOS, Android) | Pure Dart (no native) |
| Used in demo | ✅ | ✅ (starter kit) |

**Recommendation**: Use `dartssh2` for new apps (pure Dart, no native build issues). Use `ssh2` if you need compatibility with older LG app codebases.

---

## Platform Plugin Matrix

From `flutter-plugins-dependencies.txt` — shows which platform each plugin supports:

| Plugin | Android | iOS | macOS | Linux | Windows | Web |
|--------|---------|-----|-------|-------|---------|-----|
| `google_maps_flutter` | ✅ | ✅ | — | — | — | ✅ |
| `ssh2` | ✅ | ✅ | — | — | — | — |
| `path_provider` | ✅ | ✅ | ✅ | ✅ | ✅ | — |
| `shared_preferences` | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |

**Key Insight**: `ssh2` and `google_maps_flutter` are mobile-only (Android + iOS). This means:
- LG controller apps are **primarily Android/iOS** (phone → rig)
- Web builds won't have SSH (use the Node.js WebSocket server instead)
- Linux/macOS builds are for development/testing only

---

## Recommended `pubspec.yaml` for Task 2

```yaml
name: lg_task2_demo
description: Liquid Galaxy Task 2 Demo — Flutter controller for LG rig
version: 1.0.0+1

environment:
  sdk: '>=3.0.0 <4.0.0'

dependencies:
  flutter:
    sdk: flutter

  # LG Rig Communication
  dartssh2: ^2.9.0+2          # SSH to LG rig master (pure Dart)
  xml: ^6.3.0                 # KML generation

  # Maps & Location
  google_maps_flutter: ^2.10.1 # In-app map for location picking

  # State & Storage
  provider: ^6.1.1             # State management
  shared_preferences: ^2.5.3   # Persistent connection settings
  flutter_secure_storage: ^9.0.0 # Encrypted password storage
  path_provider: ^2.1.5        # File system access for KML

  # Networking
  http: ^1.2.0                 # REST API calls
  web_socket_channel: ^3.0.1   # WebSocket (Node.js server)

  # UI
  cupertino_icons: ^1.0.6

dev_dependencies:
  flutter_test:
    sdk: flutter
  flutter_lints: ^3.0.1

flutter:
  uses-material-design: true
  assets:
    - assets/images/
```

---

## Source Files

- [`flutter-plugins.txt`](flutter-plugins.txt) — Flat plugin list with resolved paths
- [`flutter-plugins-dependencies.txt`](flutter-plugins-dependencies.txt) — Full dependency graph with platform details (JSON)

Both files are generated by Flutter (`flutter pub get`) and show the exact resolved plugin versions from the working demo app.
